<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>CEU VAULT</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">

  <link href="formStyle.css" rel="stylesheet" type="text/css">
  <link href="styles.css" rel="stylesheet" type="text/css">

</head>

<body class="body">
  <div class="navbar-no-shadow">
    <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease"
      role="banner" class="navbar-no-shadow-container w-nav">
      <div class="container-regular">
        <div class="navbar-wrapper">
          <div class="w-layout-hflex ceuvaultbrandflex">
            <a href="#" class="ceulogo w-nav-brand"><img width="85" loading="lazy" alt="" src="../images/CEU-Logo.png"
                class="image"></a>
            <div class="w-layout-hflex ceuvaultbrandtext">
              <h4 class="heading">Centro Escolar University</h4>
              <h1 class="heading-2">CEU <span class="text-span">VAULT</span></h1>
              <h5 class="heading-3">MALOLOS TLTS FACILITY</h5>
            </div>
          </div>
          <nav role="navigation" class="nav-menu-wrapper w-nav-menu">
            <ul role="list" class="nav-menu w-list-unstyled">
              <li class="list-item-2">
                <a href="../Home Page/index.html" class="button-primary w-button">home</a>
              </li>
              <li class="list-item">
                <a href="index.html" class="button-primary w-button">Borrow</a>
              </li>
              <li class="list-item-3">
                <a href="#" class="button-primary w-button">inventory</a>
              </li>
            </ul>
          </nav>
          <div class="menu-button w-nav-button">
            <div class="icon w-icon-nav-menu"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <section class="section-3">
    <div class="div-block-6 fade-section">
      <h1 class="heading-4">REQUISITIONER FORM</h1>
    </div>

    <div id="reqFormGrid" class="w-layout-layout quick-stack wf-layout-layout fade-section">
      <div id="reqFormGrid" class="w-layout-cell cell">
        <h1 class="heading-7">GUIDELINE ONE</h1>
      </div>
      <div class="w-layout-cell cell-2">
        <p class="paragraph">The borrower should accomplish the Application of TLTD/TLT Section Equipment, Materials,
          Services Form. He/she shall be immediately informed by the staff member if and when his/her request is not
          approved of by the Head/Coordinator either due to conflict in the schedule or the requested equipment is
          unavailable on the specified date requested for use.</p>
      </div>
    </div>
  </section>

  <section class="containerDaniel">
    <div class="container ">
      <header class="header" style="color: white;">
        <h1 id="title" class="text-center">Application for TLTD/TLT Section Equipment, Materials, Services Form</h1>

      </header>
      <form id="main-form" style="color: white;">
        <div class="form-group ">
          <label id="first-name-label" for="first-name">First Name</label>
          <input type="text" name="first-name" id="first-name" class="form-control" placeholder="Enter your first name"
            required="">
        </div>
        <div class="form-group">
          <label id="last-name-label" for="last-name">Last Name</label>
          <input type="text" name="last-name" id="last-name" class="form-control" placeholder="Enter your last name"
            required="">
        </div>
        <div class="form-group">
          <label id="email-label" for="email">Email</label>
          <input type="email" name="email" id="email" class="form-control" placeholder="Enter your email" required="">
        </div>
        <div class="form-group">
          <p>Nature of Service/s Requested:</p>
          <select id="dropdown" name="natureOfService" class="form-control" required="">
            <option disabled="" selected="" value="">None</option>
            <option value="Academic">Academic</option>
            <option value="Co-Curricular">Co-Curricular / Extra-curricular</option>
            <option value="other">Other</option>
          </select>
        </div>

        <div id="additional-field-container"></div> <!-- Container for the additional text field -->

        <div class="form-group">
          <p>Purpose:</p>
          <select id="purposeDropdown" name="purpose" class="form-control" required="">
            <option disabled="" selected="" value="">None</option>
            <option value="Presentation">Presentation/Lecture</option>
            <option value="Viewing">Viewing</option>
            <option value="otherPurpose">Other Purposes</option>
          </select>
        </div>

        <div id="purpose-field-container"></div> <!-- Container for the additional text field -->


        <div class="form-group" style="color: white;">
          <p>Available equipment categories?</p>

          <label>
            <input name="prefer" value="Projector" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Projector-date')">DLP/LCD Projector
          </label>
          <div id="Projector-date" style="display:none;">
            <label>Select Date: <input type="date" name="Projector-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="Laptop" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Laptop-date')">Laptop
          </label>
          <div id="Laptop-date" style="display:none;">
            <label>Select Date: <input type="date" name="Laptop-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="Overhead-Projector" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Overhead-date')">Overhead Projector
          </label>
          <div id="Overhead-date" style="display:none;">
            <label>Select Date: <input type="date" name="Overhead-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="VHS-Player" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'VHS-date')">VHS Player
          </label>
          <div id="VHS-date" style="display:none;">
            <label>Select Date: <input type="date" name="VHS-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="Sound-System" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Sound-System-date')">Sound System
          </label>
          <div id="Sound-System-date" style="display:none;">
            <label>Select Date: <input type="date" name="Sound-System-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="DVD-Player" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'DVD-Player-date')">DVD Player
          </label>
          <div id="DVD-Player-date" style="display:none;">
            <label>Select Date: <input type="date" name="DVD-Player-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="VCD-Player" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'VCD-Player-date')">VCD Player
          </label>
          <div id="VCD-Player-date" style="display:none;">
            <label>Select Date: <input type="date" name="VCD-Player-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="CD-Cassette" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'CD-Cassette-date')">CD Cassette Player
          </label>
          <div id="CD-Cassette-date" style="display:none;">
            <label>Select Date: <input type="date" name="CD-Cassette-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="Karaoke" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Karaoke-date')">Karaoke
          </label>
          <div id="Karaoke-date" style="display:none;">
            <label>Select Date: <input type="date" name="Karaoke-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="Microphone" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Microphone-date')">Microphone
          </label>
          <div id="Microphone-date" style="display:none;">
            <label>Select Date: <input type="date" name="Microphone-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="Document-Camera" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Document-Camera-date')">Document Camera
          </label>
          <div id="Document-Camera-date" style="display:none;">
            <label>Select Date: <input type="date" name="Document-Camera-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="Digital-Video-Camera" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Digital-Video-Camera-date')">Digital Video Camera
          </label>
          <div id="Digital-Video-Camera-date" style="display:none;">
            <label>Select Date: <input type="date" name="Digital-Video-Camera-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="Digital-Still-Camera" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Digital-Still-Camera-date')">Digital Still Camera
          </label>
          <div id="Digital-Still-Camera-date" style="display:none;">
            <label>Select Date: <input type="date" name="Digital-Still-Camera-date" style="color: #000;"></label>
          </div>

          <label>
            <input name="prefer" value="Instructional-Materials" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Instructional-Materials-date', 'Instructional-Materials-text')">Instructional
            Materials
          </label>
          <div id="Instructional-Materials-date" style="display:none;">
            <label>Select Date: <input type="date" name="Instructional-Materials-date" style="color: #000;"></label>
          </div>
          <!-- Placeholder for dynamically added text field -->
          <div id="Instructional-Materials-text-container"></div>

          <label>
            <input name="prefer" value="Others" type="checkbox" class="input-checkbox"
              onchange="toggleDateInput(this, 'Others-date', 'Others-text')">Others
          </label>
          <div id="Others-date" style="display:none;">
            <label>Select Date: <input type="date" name="Others-date" style="color: #000;"></label>
          </div>

          <!-- Placeholder for dynamically added text field -->
          <div id="Others-text-container"></div>


        </div>

        <script>
          function toggleDateInput(checkbox, dateInputId) {
            var dateInputDiv = document.getElementById(dateInputId);
            if (checkbox.checked) {
              dateInputDiv.style.display = "block";
            } else {
              dateInputDiv.style.display = "none";
            }
          }
        </script>

        <div class="form-group">
          <label>
            <input type="checkbox" id="terms-checkbox" class="input-checkbox"> I agree to
            the Terms and Conditions
          </label>
        </div>

        <div id="terms-popup" class="popup-container">
          <div class="popup-content" style="color: #000;">
            <h2>Terms and Conditions</h2>
            <p>
              By using this form, you agree to the following terms and conditions:
            </p>
            <p>
              I acknowledge receipt of and responsibility for item/s listed above which I promise to return on the
              specified date and time.
            </p>
            <p>
              I agree to the imposed fine per hour for each material/equipment not returned on due time.
            </p>
            <p>
              I also understand that I am accountable for any loss and/or damage of the item/s I borrowed. I promise to
              abide by all these policies and certify that personal data stated herein are correct.
            </p>
            <button id="agree-button" class="popup-button" type="button">Agree</button>
            <button id="close-button" class="popup-button" type="button">Close</button>
          </div>
        </div>

        <div class="form-group">
          <button type="submit" id="submit" class="submit-button">
            Submit
          </button>
        </div>

      </form>

    </div>

  </section>

  <section class="section-4">
    <p class="paragraph-2">‍<strong class="bold-text-4">CEU Vault Malolos<br>‍</strong>© 2024 Copyright <a
        href="https://www.ceu.edu.ph/" class="link"><strong class="bold-text-2">Centro Escolar University
        </strong></a><strong class="bold-text-3">, Teaching, Learning, and Technology Section <br></strong>Km. 44,
      Macarthur Highway, City of Malolos (Capital), Bulacan, City of Malolos (Capital), Bulacan<br></p>
  </section>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=66e266eb815840690d1652d0"
    type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
  <script src="../scripts/script.js" type="text/javascript"></script>
</body>

</html>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const dropdown = document.getElementById('dropdown');
    const container = document.getElementById('additional-field-container');

    dropdown.addEventListener('change', function () {
      const existingField = document.getElementById('additional-text-field');

      if (dropdown.value === 'other') {
        if (!existingField) {
          const textFieldHTML = `
          <div class="form-group">
            <input type="text" name="other-details" id="additional-text-field" class="form-control" placeholder="Please specify" required="">
          </div>
        `;
          container.insertAdjacentHTML('beforeend', textFieldHTML);
        }
      } else {
        if (existingField) {
          container.removeChild(existingField.parentElement);
        }
      }
    });

    const purposeDropdown = document.getElementById('purposeDropdown');
    const purposeContainer = document.getElementById('purpose-field-container');

    purposeDropdown.addEventListener('change', function () {
      const existingPurposeField = document.getElementById('additional-purpose-field');

      if (purposeDropdown.value === 'otherPurpose') {
        if (!existingPurposeField) {
          const textFieldHTML = `
          <div class="form-group">
            <input type="text" name="other-purpose" id="additional-purpose-field" class="form-control" placeholder="Please specify your purpose" required="">
          </div>
        `;
          purposeContainer.insertAdjacentHTML('beforeend', textFieldHTML);
        }
      } else {
        if (existingPurposeField) {
          purposeContainer.removeChild(existingPurposeField.parentElement);
        }
      }
    });

    const checkboxes = document.querySelectorAll('.input-checkbox');

    checkboxes.forEach(checkbox => {
      checkbox.addEventListener('change', function () {
        if (checkbox.value === 'Others') {
          handleOthersCheckbox(checkbox);
        } else if (checkbox.value === 'Instructional-Materials') {
          handleInstructionalMaterialsCheckbox(checkbox);
        }
      });
    });
  });

  function handleOthersCheckbox(checkbox) {
    const dateInputDiv = document.getElementById('Others-date');
    const textInputContainer = document.getElementById('Others-text-container');

    if (checkbox.checked) {
      dateInputDiv.style.display = "block";

      if (!document.getElementById('Others-text')) {
        const textFieldHTML = `
          <div class="form-group">
            <label for="Others-text">Specify Others:</label>
            <input type="text" name="Others-text" id="Others-text" class="form-control" placeholder="Please specify" required>
          </div>
        `;
        textInputContainer.innerHTML = textFieldHTML;
      }
    } else {
      dateInputDiv.style.display = "none";
      textInputContainer.innerHTML = '';
    }
  }

  function handleInstructionalMaterialsCheckbox(checkbox) {
    const dateInputDiv = document.getElementById('Instructional-Materials-date');
    const textInputContainer = document.getElementById('Instructional-Materials-text-container');

    if (checkbox.checked) {
      dateInputDiv.style.display = "block";

      if (!document.getElementById('Instructional-Materials-text')) {
        const textFieldHTML = `
          <div class="form-group">
            <label for="Instructional-Materials-text">Specify Instructional Materials:</label>
            <input type="text" name="Instructional-Materials-text" id="Instructional-Materials-text" class="form-control" placeholder="Please specify" required>
          </div>
        `;
        textInputContainer.innerHTML = textFieldHTML;
      }
    } else {
      dateInputDiv.style.display = "none";
      textInputContainer.innerHTML = '';
    }
  }
</script>

<script>
  // Show terms popup when checkbox is changed
  document.getElementById('terms-checkbox').addEventListener('change', function () {
    if (this.checked) {
      document.getElementById('terms-popup').style.display = 'flex';
      this.checked = false; // Uncheck the checkbox to prevent form submission
    }
  });

  // Check checkbox and hide popup when agree button is clicked
  document.getElementById('agree-button').addEventListener('click', function () {
    document.getElementById('terms-checkbox').checked = true; // Check the checkbox
    document.getElementById('terms-popup').style.display = 'none'; // Hide the popup
  });

  // Hide popup when close button is clicked
  document.getElementById('close-button').addEventListener('click', function () {
    document.getElementById('terms-popup').style.display = 'none'; // Hide the popup
  });

  // Prevent form submission if terms checkbox is not checked
  document.getElementById('main-form').addEventListener('submit', function (event) {
    console.log('Form submit event triggered'); // Debug log
    if (!document.getElementById('terms-checkbox').checked) {
      event.preventDefault(); // Prevent form submission
      alert('You must agree to the Terms and Conditions before submitting.');
      console.log('Form submission prevented'); // Debug log
    }
  });
</script>

<script> // Dynamic date input validation if dates are in the past or are null
  document.getElementById('main-form').addEventListener('submit', function(event) {
    var isValid = true;
    var today = new Date().toISOString().split('T')[0]; // Gets today's date in YYYY-MM-DD format

    // Function to validate date inputs
    function validateDateInput(dateInputId) {
      var dateInput = document.querySelector(`#${dateInputId} input[type="date"]`);
      if (dateInput) {
        var selectedDate = dateInput.value;
        if (!selectedDate || selectedDate < today) {
          return false;
        }
      }
      return true;
    }

    // Validate only the date inputs corresponding to the checked checkboxes
    var checkboxes = document.querySelectorAll('.input-checkbox:checked');
    checkboxes.forEach(function(checkbox) {
      var dateInputId = checkbox.value + '-date'; // e.g., 'Projector-date'
      if (!validateDateInput(dateInputId)) {
        isValid = false;
        alert('Please ensure all date inputs are filled and are not in the past for checked items.');
      }
    });

    if (!isValid) {
      event.preventDefault(); // Prevent form submission if validation fails
    }
  });
</script>

